<div class="modal show d-block" tabindex="-1" style="background:rgba(0,0,0,0.95); backdrop-filter: blur(12px);">
    <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content bg-black border border-warning p-4 rounded-4 shadow-lg text-center">
            <div class="h1 text-warning mb-3">🔒</div>
            <h5 class="text-white fw-bold mb-4">Sala Privada</h5>

            <input type="password"
                   class="form-control bg-dark border-secondary text-white text-center mb-3 py-2"
                   value="@Password"
                   @oninput="OnInput"
                   placeholder="Palavra-passe"
                   autofocus />

            @if (ShowError)
            {
                <div class="text-danger small mb-3 animate-shake">Senha incorreta.</div>
            }

            <div class="d-grid gap-2">
                <button class="btn btn-primary py-3 fw-bold text-uppercase" @onclick="OnConfirm">
                    ACESSAR
                </button>
                <button class="btn btn-link fw-bold text-white btn-sm text-decoration-none" @onclick="OnClose">
                    Cancelar
                </button>
            </div>
        </div>
    </div>
</div>

<style>
    
</style>

@code {
    [Parameter] public string? Password { get; set; }
    [Parameter] public EventCallback<string?> PasswordChanged { get; set; }
    [Parameter] public bool ShowError { get; set; }
    [Parameter] public EventCallback OnClose { get; set; }
    [Parameter] public EventCallback OnConfirm { get; set; }

    private Task OnInput(ChangeEventArgs e) => PasswordChanged.InvokeAsync(e.Value?.ToString());
}