<div class="modal show d-block" tabindex="-1" style="background:rgba(0,0,0,0.95); backdrop-filter: blur(12px);">
    <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content bg-black border border-primary p-4 rounded-4 shadow-lg text-center">
            <div class="h1 text-primary mb-3">ðŸ‘¤</div>
            <h5 class="text-white fw-bold mb-2">Qual Ã© o seu nome?</h5>
            <p class="text-muted small mb-4">Digite seu nome para entrar na sala.</p>

            <input type="text"
                   class="form-control bg-dark border-secondary text-white text-center mb-3 py-2"
                   placeholder="Seu nome..."
                   @bind="_nameInput"
                   @bind:event="oninput"
                   @onkeydown="OnKeyDown"
                   maxlength="30"
                   autofocus />

            <div class="d-grid gap-2">
                <button class="btn btn-primary py-3 fw-bold text-uppercase"
                        @onclick="Submit"
                        disabled="@string.IsNullOrWhiteSpace(_nameInput)">
                    ENTRAR
                </button>
            </div>
        </div>
    </div>
</div>

@code {
    [Parameter] public EventCallback<string> OnConfirm { get; set; }

    private string _nameInput = "";

    private async Task Submit()
    {
        if (string.IsNullOrWhiteSpace(_nameInput)) return;
        await OnConfirm.InvokeAsync(_nameInput.Trim());
    }

    private async Task OnKeyDown(KeyboardEventArgs e)
    {
        if (e.Key == "Enter")
            await Submit();
    }
}
